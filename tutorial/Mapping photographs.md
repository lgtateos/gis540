# **Mapping photographs**

Geotagged drone imagery, Google Street View, Twitter, or field study snapshots have a variety of applications in the natural and social sciences.  You can tell if an image file is geotagged by inspecting its exif properties (manually or with code). The chiliPics directory in the course data contains some geotagged vacation snaps. 

To get started, follow these steps:

1. Data preparation: Download and unzip [chilePics.zip](https://drive.google.com/file/d/1Y-IzaKyDzhxHhgOHhwpTBZ0afLWaXERP/view?usp=sharing)  and note the file path location. 

2. Open ArcGIS Pro and select a New Blank 'Map' Template.  

3. You can accept the default project name or name it geotag.

4. Select the 'Analysis' tab at the top.

5. If you don't already see a Python Window, click the small arrow next to "Python" and choose Python Window.

6. At the bottom of the Python Window, try out the command prompt. With the instructions below. 

## 1. Play with Python
Type each of the following lines of code at the *Python prompt* and observe the result:

```Python
print('Hello')
5 + 6
x = 8
print(x)
x  
```
```Python
tools = arcpy.ListTools()
tools[:10]
len(tools)
```

```Python
baseDir = "C:/gispy/scratch"  # Change this to the location of your chilePics directory
```
```python
pic = baseDir + "/chilePics/EnchantedForest/P1010417.JPG"
```

```python
# Sanity check...
arcpy.Exists(pic)
```

## 2. Modify the basemap

1. By default, the basemap is the World Topographic Map. To see the basemap name options:

  1. Select the Map tab at the top.  

  2. Click on basemap.  The names you see there can be used in your code.

  3. You can use the NatGeo one in the code below or another one of your choosing.

     ```python
     aprx = arcpy.mp.ArcGISProject("CURRENT")
     maps = aprx.listMaps()
     my_map = maps[0]
     my_map.addBasemap("National Geographic Style Map")
     ```

## 3. Add points to the map.
Now we're going to map geotagged photos.  

First, we need to tell Python where the images are.  Copy the following into the Python Window and hit Enter:
   ~~~Python
   myPicFolder = baseDir + "/chilePics/EnchantedForest/"
   ~~~

Check again to make sure the path is correct.

~~~python
arcpy.Exists(myPicFolder)
~~~

Then we can call an ArcGIS tool, "GeoTagged Photos to Points". 
~~~Python
arcpy.management.GeoTaggedPhotosToPoints(myPicFolder)
~~~

Do you see any new points? Look for the new layer in the table of contents. 

Click on one of the points to open the information and scroll down for a preview of the photo.  you've added to the map. You'll see the full path file name.  Notice that it crawled into the subdirectories.  Other metadata that was extracted (X, Y, Z, date, time, and direction).  Also, see the timeline chart it generated by clicking on it in the Content panel.

## 4. **Map it three dimensionally.**

Click on the 'Insert' tab at the top.  Pull down on the arrow below 'New Map'.  Select 'New Global Scene'  A new 'Scene' map will appear next to your 2D map.  Add the points to this map by calling the same tool again.
   ~~~python
arcpy.management.GeoTaggedPhotosToPoints(myPicFolder)
   ~~~

Zoom to the southern cluster of pictures and tilt the map by holding onto your mouse wheel while sliding the mouse.
